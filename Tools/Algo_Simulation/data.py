import matplotlib.pyplot as plt

def extract_s_values(data_str):
    # 找到 s: 后面的部分
    s_index = data_str.find('s:')
    if s_index == -1:
        return []
    s_values_str = data_str[s_index + 2:]  # 跳过 's:'
    # 去掉可能结尾的逗号
    s_values_str = s_values_str.strip().rstrip(',')
    # 分割成数字列表
    s_values = [int(x) for x in s_values_str.split(',') if x.strip().isdigit()]
    return s_values

if __name__ == "__main__":
    # 示例数据
    #data = "a:138,b:482,s:0,22,114,214,201,303,1472,4172,6690,7261,6413,5317,4377,3625,2981,2389,1926,1604,1412,2034,4077,6013,6168,5235,4310,3574,2976,2482,2048,1688,1408,1165,964,787,640,551,470,381,305,244,200,176,153,110,83,74,72,48,34,62,46,35,10,9,29,26,33,17,22,9,26,48,45,23,25,47,34,66,69,61,87,152,231,291,359,408,410,436,467,470,459,419,375,340,287,239,212,243,302,411,632,911,1162,1388,1620,1795,1861,1807,1577,1258,989,758,545,378,239,171,166,142,153,189,203,194,199,215,201,183,178,159,127,114,150,167,124,113,108,90,108,106,113,121,82,72,95,78,24,30,33,38,37,42,48,61,50,41,58,37,37,87,88,39,102,293,613,1014,1386,1718,2053,2326,2403,2211,1861,1516,1197,991,998,1196,1417,1578,1683,1613,1337,1007,700,529,627,790,865,875,893,846,685,528,441,333,190,92,40,53,140,198,186,132,107,101,153,210,255,329,398,422,374,348,352,298,273,231,199,225,248,314,389,405,397,374,310,237,225,250,302,364,402,385,326,236,166,"
    #data = "a:132,b:1718,s:0,22,105,205,184,136,670,1995,3150,3302,2851,2310,1798,1401,1156,978,810,703,696,1036,1891,2648,2645,2135,1696,1433,1191,961,798,663,564,526,469,376,325,275,219,193,159,125,111,74,57,78,67,34,34,56,54,47,54,36,21,11,39,12,24,23,39,41,17,13,33,30,17,69,181,354,601,872,1164,1476,1729,1849,1826,1694,1475,1199,940,728,585,531,488,418,368,296,207,175,158,116,77,41,44,52,42,48,32,32,34,15,34,48,15,29,42,41,17,1,1,1,0,10,40,62,47,23,16,23,9,22,51,165,459,849,1316,1836,2344,2841,3223,3404,3357,2990,2472,2028,1605,1214,942,754,612,507,382,240,157,103,39,37,38,26,23,10,14,31,70,61,72,103,98,93,90,31,42,103,106,128,152,123,81,56,46,16,37,53,54,42,39,28,46,59,64,70,73,97,102,75,80,96,102,136,164,127,121,128,136,132,147,153,146,140,114,121,133,115,127,140,120,86,86,92,60,44,22,21,72,53,20,10,50,25,63,42,31,48,46,43,66,"
    data = "a:132,b:1718,s:0,22,101,178,143,238,1382,3967,6440,7042,6224,5189,4283,3520,2948,2466,2013,1655,1453,2049,3973,5851,6139,5340,4451,3670,2992,2459,2060,1720,1416,1201,1000,792,661,567,480,409,360,376,387,370,411,495,541,581,644,649,577,495,427,406,418,349,203,127,214,526,1000,1635,2384,3174,3923,4537,5010,5256,5092,4599,4023,3518,3182,2992,2861,2778,2704,2583,2418,2197,1950,1717,1466,1224,1024,808,565,364,233,130,58,82,102,150,165,129,190,222,154,178,234,254,263,229,191,180,153,125,143,148,226,730,1681,2981,4515,6200,7875,9334,10369,10693,10108,8796,7304,6132,5398,4936,4561,4136,3628,3095,2590,2184,1981,1966,1943,1804,1634,1475,1295,1121,986,911,846,742,625,514,430,351,253,140,116,152,227,280,223,192,208,197,214,239,221,215,236,222,209,205,208,222,221,210,162,93,84,144,220,282,336,370,362,340,294,185,116,362,723,1120,1567,2042,2486,2827,2975,2871,2596,2264,1918,1619,1384,1147,937,790,703,650,621,606,587,568,533,504,502,503,514,557,601,627,653,646,589,502,391,288,202,90,36,77,129,205"
    s_values = extract_s_values(data)
    count = len(s_values)
    plt.plot(s_values)
    plt.title(f"s后面的数值曲线（共{count}个数据点）")
    plt.xlabel("索引")
    plt.ylabel("数值")
    plt.show()